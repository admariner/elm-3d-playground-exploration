<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../output.css" />
  </head>
  <body class="overflow-hidden">
    <div id="app">
      <div></div>
    </div>
    <script src="build/main.js"></script>
    <script type="module">
      import { sendInputsToElmApp } from "../../playground-exploration/src/input.js";
      import { preventEvents } from "../../playground-exploration/src/preventEvents.js";
      const inputs = {
        dt: 0,
        clock: 0,
        keyboard: {
          // states
          pressedKeys: [],
          control: false,
          alt: false,
          shift: false,
          left: false,
          right: false,
          up: false,
          down: false,
          // actions
          downs: [],
        },
        pointer: {
          // states
          x: 0,
          y: 0,
          isDown: false,
          // actions
          down: false,
          move: false,
          up: false,
          rightDown: false,
          rightUp: false,
        },
        wheel: {
          // actions
          deltaX: 0,
          deltaY: 0,
        },
        screen: {
          width: window.innerWidth,
          height: window.innerHeight,
        },
        devicePixelRatio: window.devicePixelRatio,
      };

      const app = Elm.TemplateWithConfigs.init({
        node: document.querySelector("#app div"),
        flags: { inputs: inputs },
      });

      preventEvents();
      sendInputsToElmApp(app);
    </script>
  </body>
</html>
